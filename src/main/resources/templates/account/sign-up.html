<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Eat-Together</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<!------ Include the above in your HEAD tag ---------->
</head>

<body>

<body class="bg-light">
<nav class="navbar navbar-expand-sm navbar-dark bg-dark">
  <a class="navbar-brand" href="/" th:href="@{/}">
    <img src="/images/logo.png" width="40" height="40">
  </a>
  <button class="navbar-toggler" type="button" data-toggle="collapse"
          data-target="#navbarSupportedContent">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item">
        <form th:action="@{/search}" class="form-inline" method="get">
          <input class="form-control mr-sm-2" name="keyword" type="search"
                 placeholder="주변 찾기">
        </form>
      </li>
    </ul>

    <ul class="navbar-nav justify-content-end">
      <li class="nav-item">
        <a class="nav-link" th:href="@{/login}">LOGIN</a></li>
      <li class="nav-item">
        <a class="nav-link" th:href="@{/sign-up}">JOIN</a></li>
    </ul>
  </div>
</nav>

<div class="container">
    <div class="row justify-content-center">
        <form class="needs-validation col-sm-7"
              th:action="@{/sign-up}" th:object="${signUpDto} "method="post" novalidate>
          <div class="text-center"><br>
            <h2>회원가입</h2>
          </div>

          <div class="form-group">
            <label class="control-label" for="username">아이디</label>
            <input id="username" type="text" th:field="*{username}" class="form-control"
                   aria-describedby="nicknameHelp" minlength="5" maxlength="20" required>
            <small id="usernameHelp" class="form-text text-muted">
              5자 이상 20자 이내로 입력하세요.
            </small>
            <small class="invalid-feedback">아이디를 입력하세요.</small>
            <small class="form-text text-danger" th:if="${#fields.hasErrors('username')}" th:errors="*{username}">Username Error</small>
          </div>

          <div class="form-group">
            <label class="control-label" for="email">이메일</label>
            <input id="email" type="email" th:field="*{email}" class="form-control"
                   aria-describedby="emailHelp" required>
            <small id="emailHelp" class="form-text text-muted">
              이메일 형식대로 입력해주세요.
            </small>
            <small class="invalid-feedback">이메일을 입력하세요.</small>
            <small class="form-text text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}">Email Error</small>
          </div>

          <div class="form-group">
            <label class="control-label" for="password">비밀번호</label>
            <input id="password" type="password" th:field="*{password}" class="form-control"
                   aria-describedby="passwordHelp" required minlength="8" maxlength="20">
            <small id="passwordHelp" class="form-text text-muted">
              비밀번호는 8자 이상 20자 이내로 입력하세요.
            </small>
            <small class="invalid-feedback">패스워드를 입력하세요.</small>
            <small class="form-text text-danger" th:if="${#fields.hasErrors('password')}" th:errors="*{password}">Password Error</small>
          </div>

          <div class="form-group">
            <label class="control-label" for="password_check">비밀번호 재입력</label>
            <input id="password_check" type="password" th:field="*{passwordCheck}" class="form-control"
                   aria-describedby="password_checkHelp" required minlength="8" maxlength="20">
          <small id="password_checkHelp" class="form-text text-muted">
            비밀번호가 서로 일치하는지 확인하세요.
          </small>
          <small class="invalid-feedback">패스워드 재입력하세요.</small>
          <small class="form-text text-danger" th:if="${#fields.hasErrors('passwordCheck')}" th:errors="*{passwordCheck}">PasswordCheck Error</small>
          </div>

          <div class="form-group">
            <button id="signupSubmit" type="submit"
                    aria-describedby="submitHelp" class="btn btn-info btn-block">가입하기</button>
          <small id="submitHelp" class="form-text text-muted">
            <a href="#">약관</a>에 동의하시면 가입하기 버튼을 클릭하세요.
          </small>
          </div>
          <hr>
          <p style="text-align: center">이미 가입된 아이디가 있습니까?  <a href="sign-in">로그인하기</a></p>
        </form>
    </div>
</div>
</body>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

<script type="application/javascript">
  (function(){
    'use strict';

    window.addEventListener('load',function(){
      var forms=document.getElementsByClassName('needs-validation');

      Array.prototype.filter.call(forms,function(form){
        form.addEventListener('submit',function(event){
          if(form.checkValidity()===false){
            event.preventDefault();
            event.stopPropagation();
          }
          form.classList.add('was-validated')
        },false)
      })
    },false)
  }())

</script>